{"version":3,"file":"dashboard.bundle.js","mappings":";;;;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA,2DAA2D,aAAa;AACxE;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,WAAW;AAC7B,wCAAwC,sCAAsC;AAC9E,4CAA4C,eAAe;AAC3D,+CAA+C,kBAAkB;AACjE,8DAA8D,2BAA2B,IAAI,aAAa;AAC1G,0CAA0C,SAAS;AACnD,0CAA0C,SAAS;AACnD,wCAAwC,SAAS;AACjD,kCAAkC,SAAS,gCAAgC,aAAa;AACxF;AACA;AACA;AACA,mDAAmD,SAAS;AAC5D,mDAAmD,SAAS;AAC5D,iDAAiD,SAAS;AAC1D,2CAA2C,SAAS;AACpD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA,0CAA0C,QAAQ;AAClD;AACA,oCAAoC,aAAa,GAAG,QAAQ;AAC5D;AACA,uCAAuC,aAAa,GAAG,QAAQ;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,QAAQ;AACpE;AACA;AACA;AACA,oDAAoD,QAAQ;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA,kDAAkD,eAAe;AACjE,gDAAgD,aAAa;AAC7D,mDAAmD,iBAAiB;AACpE;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL","sources":["webpack:///./dashboard/dashboard.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst loggedInUser = localStorage.getItem('loggedInUser');\nif (!loggedInUser) {\n    alert('Please log in first.');\n    window.location.href = 'index.html';\n}\ndocument.getElementById('username-display').innerText = `${loggedInUser}`;\n// User events from local storage\nconst userEventsKey = `events_${loggedInUser}`;\nlet userEvents = JSON.parse(localStorage.getItem(userEventsKey) || '[]');\n// Populate category filter dropdown\nfunction populateCategoryFilter() {\n    const categoryFilter = document.getElementById('filter-category');\n    categoryFilter.innerHTML = '';\n    const categories = JSON.parse(localStorage.getItem('categories_list') || '[]');\n    const defaultOption = document.createElement('option');\n    defaultOption.value = '';\n    defaultOption.textContent = 'Filter by Category';\n    categoryFilter.appendChild(defaultOption);\n    // Categories from local storage\n    categories.forEach((category) => {\n        const option = document.createElement('option');\n        option.value = category.name.toLowerCase();\n        option.textContent = category.name;\n        categoryFilter.appendChild(option);\n    });\n}\npopulateCategoryFilter();\n// Render events\nfunction renderEvents(events) {\n    const eventsList = document.getElementById('events-list');\n    eventsList.innerHTML = '';\n    events.forEach(event => {\n        const eventCard = document.createElement('div');\n        eventCard.className = 'event-card';\n        // Card content\n        eventCard.innerHTML = `\r\n            <h3>${event.name}</h3>\r\n            <p><strong>Date:</strong> ${new Date(event.date).toLocaleString()}</p>\r\n            <p><strong>Location:</strong> ${event.location}</p>\r\n            <p><strong>Description:</strong> ${event.description}</p>\r\n            <p><strong>Status:</strong> <span class=\"status ${event.status.toLowerCase()}\">${event.status}</span></p>\r\n            <button id=\"viewdetails-btn-${event.id}\">View Details</button>\r\n            <button id=\"manageguest-btn-${event.id}\">Manage Guests</button>\r\n            <button id=\"editevent-btn-${event.id}\">Edit Event</button>\r\n            <button id=\"dlt-btn-${event.id}\" style=\"background-color: red; color: white;\">Delete</button>\r\n        `;\n        eventsList.appendChild(eventCard);\n        // Add event listeners\n        document.getElementById(`viewdetails-btn-${event.id}`).addEventListener('click', () => viewEventDetails(event.id));\n        document.getElementById(`manageguest-btn-${event.id}`).addEventListener('click', () => manageGuests(event.id));\n        document.getElementById(`editevent-btn-${event.id}`).addEventListener('click', () => editEvent(event.id));\n        document.getElementById(`dlt-btn-${event.id}`).addEventListener('click', () => deleteEvent(event.id));\n    });\n}\n// Delete an event\nfunction deleteEvent(eventId) {\n    if (confirm('Are you sure you want to delete this event?')) {\n        const loggedInUser = localStorage.getItem('loggedInUser');\n        if (!loggedInUser) {\n            alert('User not logged in');\n            return;\n        }\n        const eventKey = `events_${loggedInUser}`;\n        let userEvents = JSON.parse(localStorage.getItem(eventKey) || '[]');\n        userEvents = userEvents.filter((event) => event.id !== eventId);\n        localStorage.setItem(eventKey, JSON.stringify(userEvents));\n        const specificEventKey = `event_${eventId}`;\n        localStorage.removeItem(specificEventKey);\n        const agendaKey = `agenda_${loggedInUser}_${eventId}`;\n        localStorage.removeItem(agendaKey);\n        const guestListKey = `guests_${loggedInUser}_${eventId}`;\n        localStorage.removeItem(guestListKey);\n        renderEvents(userEvents);\n    }\n}\n// Function to filter events\nfunction filterEvents() {\n    const searchText = document.getElementById('search-bar').value.toLowerCase();\n    const selectedDateFilter = document.getElementById('filter-date').value;\n    const selectedCategoryFilter = document.getElementById('filter-category').value;\n    const selectedStatusFilter = document.getElementById('filter-status').value;\n    let filteredEvents = userEvents;\n    // Search filter\n    if (searchText) {\n        filteredEvents = filteredEvents.filter(event => event.name.toLowerCase().includes(searchText));\n    }\n    if (selectedDateFilter) {\n        const today = new Date();\n        filteredEvents = filteredEvents.filter(event => {\n            const eventDate = new Date(event.date);\n            if (selectedDateFilter === 'today') {\n                return eventDate.toDateString() === today.toDateString();\n            }\n            else if (selectedDateFilter === 'week') {\n                const startOfWeek = today.getDate() - today.getDay();\n                const endOfWeek = startOfWeek + 6;\n                const startOfWeekDate = new Date(today.setDate(startOfWeek));\n                const endOfWeekDate = new Date(today.setDate(endOfWeek));\n                return eventDate >= startOfWeekDate && eventDate <= endOfWeekDate;\n            }\n            else if (selectedDateFilter === 'month') {\n                return eventDate.getMonth() === today.getMonth() && eventDate.getFullYear() === today.getFullYear();\n            }\n            return true;\n        });\n    }\n    if (selectedCategoryFilter) {\n        filteredEvents = filteredEvents.filter(event => event.category === selectedCategoryFilter);\n    }\n    if (selectedStatusFilter) {\n        filteredEvents = filteredEvents.filter(event => event.status === selectedStatusFilter);\n    }\n    renderEvents(filteredEvents);\n}\n// Filter functionality\nrenderEvents(userEvents);\ndocument.getElementById('search-bar').addEventListener('input', filterEvents);\ndocument.getElementById('filter-date').addEventListener('change', filterEvents);\ndocument.getElementById('filter-category').addEventListener('change', filterEvents);\ndocument.getElementById('filter-status').addEventListener('change', filterEvents);\n// Logout functionality\ndocument.getElementById('logout-button').addEventListener('click', function () {\n    localStorage.removeItem('loggedInUser');\n    alert('You have been logged out.');\n    window.location.href = 'index.html';\n});\n// View Event Details\nfunction viewEventDetails(eventId) {\n    showAgendaModal(eventId);\n}\n// Manage Guests\nfunction manageGuests(eventId) {\n    window.location.href = `guest-management.html?eventId=${eventId}`;\n}\n// Edit Event\nfunction editEvent(eventId) {\n    window.location.href = `addevent.html?eventId=${eventId}`;\n}\n// Function to display the agenda modal\nfunction showAgendaModal(eventId) {\n    const modal = document.getElementById('event-agenda-modal');\n    const closeBtn = modal.querySelector('.close');\n    const agendaItemsContainer = document.getElementById('agenda-items-container');\n    agendaItemsContainer.innerHTML = '';\n    // Fetch agenda data for the selected event\n    const eventKey = `event_${eventId}`;\n    const event = JSON.parse(localStorage.getItem(eventKey) || '{}');\n    if (event && event.agenda && event.agenda.length > 0) {\n        // Display existing agenda items\n        event.agenda.forEach(item => {\n            const agendaItemDiv = document.createElement('div');\n            agendaItemDiv.innerHTML = `\r\n                <p><strong>Start Time:</strong> ${item.startTime}</p>\r\n                <p><strong>End Time:</strong> ${item.endTime}</p>\r\n                <p><strong>Description:</strong> ${item.description}</p>\r\n            `;\n            agendaItemsContainer.appendChild(agendaItemDiv);\n        });\n    }\n    else {\n        const noAgendaMessage = document.createElement('p');\n        noAgendaMessage.textContent = 'No agenda items found. Please add a new agenda.';\n        agendaItemsContainer.appendChild(noAgendaMessage);\n    }\n    modal.style.display = 'block';\n    closeBtn.addEventListener('click', function () {\n        modal.style.display = 'none';\n    });\n    window.addEventListener('click', function (event) {\n        if (event.target === modal) {\n            modal.style.display = 'none';\n        }\n    });\n}\n"],"names":[],"sourceRoot":""}